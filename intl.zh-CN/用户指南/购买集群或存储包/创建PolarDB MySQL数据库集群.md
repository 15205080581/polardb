# 创建PolarDB MySQL数据库集群

本文介绍如何通过PolarDB管理控制台创建PolarDB MySQL数据库集群。

已注册并登录阿里云账号，详细操作步骤请参见[注册和登录阿里云账号](/intl.zh-CN/用户指南/账号和数据库/注册和登录阿里云账号.md)。

PolarDB MySQL集群支持**标准版（2-16个节点）（默认推荐）**和**普惠版（突发性能单节点）**两种不同系列，关于两个系列的详细介绍，请参见[产品系列]()。

**说明：**

-   PolarDB支持专有网络VPC（Virtual Private Cloud）。VPC是阿里云上一种隔离的网络环境，安全性比传统的经典网络更高。
-   PolarDB与其他阿里云产品通过内网互通时才能发挥PolarDB的最佳性能，因此，建议将PolarDB与云服务器ECS配合使用，且与ECS创建于同一个VPC，否则PolarDB无法发挥最佳性能。如果您ECS的网络类型为经典网络，需将ECS从经典网络迁移到VPC。

## 操作步骤

1.  登录[PolarDB控制台](https://polardb.console.aliyun.com/)。

2.  单击页面左上角**创建新集群**。

3.  选择**商品类型**为**包年包月**或**按量付费**。

    -   **包年包月**：在创建集群时支付计算节点的费用，而存储空间会根据实际数据量按小时计费，并从账户中按小时扣除。
    -   **按量付费**：无需预先支付费用，计算节点和存储空间（根据实际数据量）均按小时计费，并从账户中按小时扣除。
4.  设置如下参数。

    |参数|说明|
    |:-|:-|
    |**地域**|集群所在的地理位置。购买后无法更换地域。 **说明：** 请确保PolarDB与需要连接的ECS创建于同一个地域，否则它们无法通过内网互通，只能通过外网互通，无法发挥最佳性能。 |
    |**创建方式**|创建PolarDB集群的方式。     -   **创建主集群**：创建一个全新的PolarDB集群。
    -   **创建从集群**：在一个全球数据库网络（GDN）中创建从集群，详情请参见[创建从集群](/intl.zh-CN/用户指南/部署架构/全球数据库/新建全球数据库和添加从集群.md)。
    -   **从RDS迁移**：先从RDS克隆数据，然后保持增量同步，主要用于迁移。在正式迁移切换前PolarDB为只读，且默认开启Binlog，详情请参见[一键升级RDS MySQL至PolarDB MySQL](/intl.zh-CN/数据迁移或同步/从RDS迁移至PolarDB/一键升级RDS MySQL至PolarDB MySQL.md)。
        -   **源RDS引擎**：源RDS实例的引擎类型，固定为**MySQL**无需选择。
        -   **源RDS版本**：源RDS实例的版本，固定为**5.6**无需选择。
        -   **源RDS实例**：可选的源RDS实例，不包括只读实例。

**说明：** 可选择的源实例列表，不包含只读实例。暂不支持已开通TDE或SSL功能以及包含非InnoDB引擎的RDS实例。从备份文件恢复到PolarDB，不影响源实例的正常运行。

    -   **从RDS克隆**：基于所选的RDS实例，快速克隆一个数据完全一样的PolarDB集群。详情请参见[一键克隆RDS MySQL至PolarDB MySQL](/intl.zh-CN/数据迁移或同步/从RDS迁移至PolarDB/一键克隆RDS MySQL至PolarDB MySQL.md)。
        -   **源RDS引擎**：源RDS实例的引擎类型，固定为**MySQL**无需选择。
        -   **源RDS版本**：源RDS实例的版本，固定为**5.6**无需选择。
        -   **源RDS实例**：可选的源RDS实例，不包括只读实例。

**说明：** 可选择的源实例列表，不包含只读实例。暂不支持已开通TDE或SSL功能以及包含非InnoDB引擎的RDS实例。从备份文件恢复到PolarDB，不影响源实例的正常运行。

    -   **从回收站恢复**：您可以通过从回收站中恢复已删除集群的备份来创建新集群。
        -   **原版本**：已删除集群的版本。
        -   **已删除集群**：已删除的集群名称。
        -   **历史备份**：选择想要恢复的备份。 |
    |**主可用区**|集群的主可用区。     -   可用区是地域中的一个独立物理区域，不同可用区之间没有实质性区别。
    -   您可以选择将PolarDB与ECS创建在同一可用区或不同的可用区。
    -   您只需要选择主可用区，系统会自动选择备可用区。 |
    |**网络类型**|固定为**VPC**专有网络，无需选择。**说明：** 如需使用经典网络请先任选一个VPC专有网络，待创建完成后再进行配置，详情请参见[私网地址和公网地址](/intl.zh-CN/用户指南/集群访问/查看或申请连接地址.md)。 |
    |**兼容性**|    -   **MySQL 8.0**（与MySQL 8.0完全兼容），原生支持并行查询，特定场景下（TPC-H测试）性能提升十倍，详情请参见[并行查询](/intl.zh-CN/用户指南/内核功能/OLAP性能/并行查询/并行查询.md)。
    -   **MySQL 5.7**（与MySQL 5.7完全兼容）。
    -   **MySQL 5.6**（与MySQL 5.6完全兼容）。
    -   **PostgreSQL 11**（与PostgreSQL 11 完全兼容）。
    -   **兼容Oracle语法**（[高度兼容]()Oracle语法）。 |
    |**系列**|您可以选择**标准版（2-16个节点）（默认推荐）**或**普惠版（突发性能单节点）**，关于两种系列的详细介绍，请参见[产品系列]()。**说明：** 仅当**创建方式**为**创建主集群**且**兼容性**为**MySQL 8.0**或**MySQL 5.6**时，支持选择**普惠版（突发性能单节点）**系列。 |
    |**节点规格**|    -   若您选择的集群系列为**标准版（2-16个节点）（默认推荐）**，您可以按需选择节点规格，所有节点均为独享型，性能稳定可靠。关于各规格的具体信息，请参见[规格与定价](/intl.zh-CN/产品定价/规格与定价.md)。
    -   若您选择的集群系列为**普惠版（突发性能单节点）**，则此处节点规格固定为**4 核 8 GB（突发性能）**不可变更，详情请参见[表 1]()。 |
    |**节点个数**|    -   若您的源集群系列为**标准版（2-16个节点）（默认推荐）**， 系统将默认创建规格相同的两个节点（一主一只读），无需选择。

**说明：** 如果主节点故障，系统会自动将只读节点切换为新的主节点，并重新生成一个只读节点，关于只读节点的更多信息，请参见[产品架构](/intl.zh-CN/产品简介/产品架构.md)。

    -   若您的源集群系列为**普惠版（突发性能单节点）**，系统将默认创建一个节点（主节点），无需选择。 |
    |**存储费用**|无需选择。系统会根据实际数据使用量按小时计费，详情请参见[产品价格](/intl.zh-CN/产品定价/规格与定价.md)。 **说明：** 创建集群时无需选择存储容量，存储容量随数据量的增减而自动弹性伸缩。 |
    |**时区**|设置集群时区，默认时区为**UTC+08:00**。**说明：** 仅当PolarDB集群兼容性选择为**MySQL 8.0**、**MySQL 5.7**或**MySQL 5.6**时，支持该配置。 |
    |**表名大小写**|设置集群表名是否区分大小写，默认**不区分大小写**。当本地数据库区分大小时，您可以选择区分大小写，便于您迁移数据。**说明：**

    -   仅当PolarDB集群兼容性选择为**MySQL 8.0**、**MySQL 5.7**或**MySQL 5.6**时，支持该配置。
    -   集群创建后该参数无法修改，请谨慎选择。 |
    |**删除（释放）集群时**|设置删除（释放）集群时的备份保留策略，默认**保留最后一个备份（释放前自动备份）**。    -   **保留最后一个备份（释放前自动备份）**：删除集群时保留最后一个备份。
    -   **保留全部备份**：删除集群时保留所有备份。
    -   **不保留备份（释放后无法恢复）**：删除集群时不保留任何备份。
**说明：**

    -   仅当PolarDB集群兼容性选择为**MySQL 8.0**、**MySQL 5.7**或**MySQL 5.6**时，支持该配置。
    -   删除（释放）集群时保留备份可能会产生少量费用，您可以随时删除备份来节省成本，详情请参见[数据备份价格](/intl.zh-CN/产品定价/规格与定价.mdsection_ryg_gsw_hmu)。 |
    |**开启TDE**|选择是否开启TDE加密。启用TDE加密后，PolarDB将对集群数据文件进行加密，对于业务访问透明，会有5%~10%的性能损失。 **说明：**

    -   仅当您选择**兼容性**为**PostgreSQL 11**或**兼容Oracle语法**时，支持该配置。
    -   TDE功能开启后不可关闭。 |
    |**集群名称**|    -   集群名称长度为2~128个字符，以大小写字母或中文开头，可包含数字、英文句号（.）、下划线（\_）或短划线（-）。
    -   如果留空，系统将为您自动生成一个集群名称。创建集群后还可以修改集群名称。 |
    |**资源组**|从已[创建资源组]()中选择一个目标资源组。**说明：** 资源组是在单个云账号下将一组相关资源进行统一管理的容器，一个资源只能归属于一个资源组，详情请参见[RAM资源分组与授权](/intl.zh-CN/教程/RAM资源分组与授权.md)。 |

5.  设置**购买时长**（仅针对预付费集群）和**集群数量**后，单击**立即购买**。

    **说明：** 最多可以一次性创建50个集群，适用于游戏批量开服等业务场景。

6.  在**确认订单**页面确认订单信息，阅读并选中服务协议，单击**去支付**。

7.  在**支付**页面，确认未支付订单信息和支付方式，单击**支付**。

8.  支付成功后，需要10~15分钟创建集群，之后您就可以在集群列表中看到新创建的集群。

    **说明：**

    -   当集群中的节点状态为**创建中**时，整个集群可能仍未创建完成，此时集群不可用。只有当集群状态为**运行中**时，集群才可以正常使用。
    -   请确认已选中正确的地域，否则无法看到您创建的集群。

## 下一步

[设置集群白名单](/intl.zh-CN/用户指南/数据安全/加密/设置集群白名单.md)

## 相关API

|API|描述|
|:--|:-|
|[CreateDBCluster](/intl.zh-CN/API参考/集群管理/CreateDBCluster.md)|创建数据库集群。|
|[DescribeDBClusters](/intl.zh-CN/API参考/集群管理/DescribeDBClusters.md)|查看集群列表。|
|[DescribeDBClusterAttribute](/intl.zh-CN/API参考/集群管理/DescribeDBClusterAttribute.md)|查看指定PolarDB集群的详细属性。|
|[DescribeAutoRenewAttribute](/intl.zh-CN/API参考/集群管理/续费管理/DescribeAutoRenewAttribute.md)|查询PolarDB包年包月集群自动续费状态。|
|[ModifyAutoRenewAttribute](/intl.zh-CN/API参考/集群管理/续费管理/ModifyAutoRenewAttribute.md)|设置PolarDB包年包月集群自动续费状态。|

