# 恢复数据 {#concept_xb3_dlz_52b .concept}

恢复POLARDB for MySQL数据的过程如下：

1.  将历史数据恢复到新集群中。您可以选择以下其中一种恢复方式：
    -   [按时间点恢复（恢复到任意时间点）](#)
    -   [按备份集（快照）恢复](#)
2.  [登录到集群](../../../../intl.zh-CN/POLARDB for MySQL快速入门/连接数据库集群.md)，验证数据的准确性。
3.  [将需要的数据迁移到原集群](../../../../intl.zh-CN/数据迁移__同步/POLARDB for MySQL/数据迁移/从POLARDB for MySQL迁移至POLARDB for MySQL.md#)。

**说明：** 恢复后的集群包含原集群的数据和账号信息，不包含原集群的参数设置。

## 按时间点恢复数据（恢复到任意时间点） {#section_hxg_y52_v2b .section}

您可以将过去7天内**任意一个时间点**的数据恢复到新集群。

1.  进入[POLARDB控制台](https://polardb.console.aliyun.com/)。
2.  选择地域。
3.  找到目标集群，单击集群ID。
4.  在左侧导航栏中，选择**配置与管理** \> **备份恢复**。
5.  单击**按时间点恢复**，在弹出的对话框中单击**确认** 。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17710/156594412434703_zh-CN.png)

6.  在克隆实例页面中，选择新集群的计费方式：
    -   **预付费**：在创建集群时需要支付计算集群（一个主节点和一个只读节点）的费用，而存储空间会根据实际数据量按小时计费，并从账户中按小时扣除。如果您要长期使用该集群，**预付费**方式更加划算，而且购买时长越长，折扣越多。
    -   **按小时付费**：无需预先支付费用，计算集群和存储空间（实际数据量）均按小时计费，并从账户中按小时扣除。如果您只需短期使用该集群，可以选择**按量付费**，用完即可释放，节省费用。
7.  设置以下参数：
    -   **克隆源类型**：选择**备份时间点**。
    -   **备份时间点**：可以设置为过去7天内的任意时间点。
    -   **地域**：无需修改，与原集群相同。
    -   **可用区**：无需修改。
    -   **网络类型**：无需修改。
    -   **VPC网络**和**VPC交换机**：建议保持不变，即原集群所在的VPC网络和交换机。
    -   **数据库引擎**：无需修改。
    -   **节点规格**：不同规格有不同的最大存储容量和性能，具体请参见[规格与定价](../../../../intl.zh-CN/产品定价/规格与定价.md#)。
    -   **节点个数**：无需修改。系统将自动创建一个与主节点规格相同的只读节点。
    -   **集群名称**：如果留空，系统将为您自动生成一个集群名称。创建集群后还可以修改集群名称。
    -   **购买时长**：预付费集群需要填写此参数。
    -   **集群数量**：默认为1，无法修改。
8.  阅读并勾选**《云数据库 POLARDB服务协议》**，然后完成支付。

## 按备份集（快照）恢复 {#section_yvd_vdf_v2b .section}

1.  进入[POLARDB控制台](https://polardb.console.aliyun.com/)。
2.  选择集群所在的地域。
3.  找到目标集群，单击集群ID。
4.  在左侧导航栏中，选择**配置与管理** \> **备份恢复**。
5.  找到目标备份集（快照），单击**恢复备份**，在弹出的对话框中单击**确认**。
6.  在弹出的页面中，选择新集群的计费方式：
    -   **预付费**：在创建集群时需要支付计算实例（一个主实例和一个只读实例）的费用，而存储空间会根据实际数据量按小时计费，并从账户中按小时扣除。如果您要长期使用该集群，**预付费**方式更加划算，而且购买时长越长，折扣越多。
    -   **按量付费**：无需预先支付费用，计算实例和存储空间（实际数据量）均按小时计费，并从账户中按小时扣除。如果您只需短期使用该集群，可以选择**按量付费**，用完即可释放，节省费用。
7.  设置以下参数：
    -   **克隆源类型**：选择**备份集**。
    -   **克隆源备份集**：请确认是否为您要恢复的备份集。
    -   **地域**：无需修改，与原集群相同。
    -   **可用区**：无需修改。
    -   **网络类型**：无需修改。
    -   **VPC网络**和**VPC交换机**：建议保持不变，即原集群所在的VPC网络和交换机。
    -   **数据库引擎**：无需修改。
    -   **节点规格**：不同规格有不同的最大存储容量和性能，具体请参见[节点规格](../../../../intl.zh-CN/产品定价/规格与定价.md#)。
    -   **节点个数**：无需修改。系统将自动创建一个与主节点规格相同的只读节点。
    -   **集群名称**：如果留空，系统将为您自动生成一个集群名称。创建集群后还可以修改集群名称。
    -   **购买时长**：预付费集群需要填写此参数。
    -   **集群数量**：默认为1，无法修改。
8.  阅读并勾选**《云数据库 POLARDB服务协议》**，然后完成支付。

## 常见问题 {#section_rlc_yzk_qgb .section}

1.  按时间点恢复的功能是否依赖Binlog？Binlog保存几天，就可以恢复这几天内任意时间点的数据吗？

    答：按时间点恢复的功能不依赖Binlog。集群可以恢复到过去7天内的任意时间点，是基于Redo日志的，与Binlog无关。

2.  数据恢复是否基于“全量备份+Binlog”？

    答：数据恢复是基于“全量快照备份+Redo日志”。

    Redo日志量大小与数据库的写负载有关，写入/更新频繁的数据库会产生较多的Redo日志。系统会定期上传Redo日志，随后清理本地Redo日志，清理前本地Redo日志会临时占用集群的存储空间，收取一定的费用，上传后就不再收取这部分费用了。


## 相关主题 {#section_h21_1wt_v2b .section}

[备份数据](intl.zh-CN/POLARDB for MySQL用户指南/备份与恢复/备份数据.md)

## 相关API {#section_buy_wba_jkz .section}

|API|描述|
|---|--|
|[CreateDBCluster](../../../../intl.zh-CN/API参考/集群管理/CreateDBCluster.md#)|创建POLARDB集群。 **说明：** 克隆集群时，参数**CreationOption**取值需要为**CloneFromPolarDB**。

 |

