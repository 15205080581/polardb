# 性能洞察 {#concept_221044 .concept}

性能洞察（Performance Insights）专注于POLARDB集群负载监控、关联分析、性能调优的利器，以简单直观的方式帮助用户迅速评估数据库负载，找到性能问题的源头，提升数据库的稳定性。

## 典型使用场景 {#section_x1y_gwj_dhb .section}

性能洞察可以在以下场景中，为您提供帮助。

-   **概要分析集群性能指标** 

    帮助您监控集群的关键性能指标，从宏观角度帮助您确认数据库集群负载情况和变化趋势。根据集群关键性能指标趋势图，可以帮助您发现集群负载来源以及负载分布的时间规律。

-   **轻松评估数据库负载** 

    您无需综合分析复杂繁多的性能指标趋势图，平均活跃会话趋势图中展示了所有核心性能信息，这些信息帮助您轻松地评估数据库负载来源和瓶颈类型，例如是高CPU使用率，还是锁定等待，又或者是I/O延迟等，并且可以直接定位具体是哪些SQL语句。

    **说明：** 平均活跃会话（Average Active Sessions，AAS），是指用户POLARDB集群一段时间内的平均活跃会话数，AAS的数量变化趋势反映了用户POLARDB集群负载的变化情况。因此，性能洞察功能使用AAS来做为POLARDB集群负载高低的衡量指标。

-   **简单查找性能问题源头** 

    结合AAS趋势图和多维度负载详情进行分析，您可以迅速确定性能问题是集群规格配置导致的，或者是数据库本身设计导致的，并找到是哪些SQL语句导致了性能问题。


## 操作步骤 {#section_ohp_lxc_dhb .section}

1.  进入[POLARDB控制台](https://polardb.console.aliyun.com/)。
2.  选择地域。
3.  找到目标集群，单击**集群名称**列的集群ID。
4.  在左侧导航栏中，选择**诊断与优化** \> **性能洞察**。
5.  选择过滤条件。

    ![性能洞察过滤条件](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/188501/155911569645852_zh-CN.jpg)


## 页面介绍 {#section_mbn_ftg_hhb .section}

-   **关键性能指标趋势图** 

    用户可以通过关键性能指标的趋势图确认集群负载的情况和资源瓶颈。

    您还可以切换时间段或者选择自定义时间范围，来获取相应时间段的关键性能指标趋势图。

    ![性能洞察关键指标](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/188501/155911569645853_zh-CN.jpg)

-   **平均活跃会话 \(AAS\)** 

    通过关键性能指标的趋势图，宏观确认数据库的负载情况后，可以进一步确认负载来源。

    ![性能洞察AAS](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/188501/155911569645854_zh-CN.jpg)

    **说明：** max Vcores是指用户POLARDB集群最多可以使用的CPU核数，这个值的大小决定了集群CPU的处理能力。

    从实时AAS变化趋势图中，可以清楚地发现POLARDB集群中的负载来源和时间，以及变化规律。

-   **多维度负载源详情** 

    通过分析性能洞察中的实时AAS变化趋势，掌握了集群负载变化的规律，接下来可以从多个维度找出影响性能的具体SQL语句，以及相关联的用户、主机、数据库等。

    ![性能洞察SQL](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/188501/155911569645855_zh-CN.jpg)

    从以上截图的下半部分，我们可以方便地找出与AAS变化趋势关联负载对应的SQL查询语句，以及每个语句对AAS的使用占比情况。

    性能洞察支持6个维度的AAS分类，您可以通过右侧的**AAS分类**下拉框来切换。

    |类别|说明|
    |--|--|
    |**SQL**|业务TOP 10 SQL的AAS变化趋势。|
    |**Waits**|活跃会话资源等待的AAS变化趋势。|
    |**Users**|登陆用户的AAS变化趋势。|
    |**Hosts**|客户端主机名或者主机IP AAS变化趋势。|
    |**Databases**|业务所在数据库的AAS变化趋势。|
    |**Status**|活跃会话状态的AAS变化趋势。|


