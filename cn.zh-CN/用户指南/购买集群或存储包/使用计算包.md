# 使用计算包

相较于正常按量付费，计算包能够提供更加优惠的价格以抵扣PolarDB MySQL集群中计算节点的费用。同时，您还可以将计算包与自动扩、缩容服务配合使用，轻松应对业务量波动。

在变更以**包年包月**方式购买的PolarDB集群的配置时会产生一些额外成本，例如在升级配置（或添加节点）时需补齐剩余生命周期内的差价或在降级配置（或删除节点）时会收取一定手续费再退差价。

为避免变更配置时产生上述额外成本，推荐您购买**按量付费**的集群并使用计算包来抵扣，这样既能兼顾按量付费的灵活性，变配之后立即按照新配置计费；又能享受比正常按量付费更优惠的价格来抵扣计算节点的费用。

## 注意事项

-   当前仅**商品类型**为**按量付费**（即后付费或按小时付费的）PolarDB MySQL集群支持使用计算包进行抵扣。
-   计算包订购成功后立即生效，但具体的使用明细一般会延迟6小时展示。
-   每个计算包都有各自的有效期，有效期结束之前未消耗完的计算包容量会自动失效，请在有效期内用完避免浪费。

## 计费方式

-   算力

    PolarDB采用了CU（Capacity Unit）来定义集群种节点的计算能力（算力），每种规格的计算节点对应的算力如下表所示。

    |集群系列|节点规格|CPU和内存数|算力（CU）|
    |----|----|-------|------|
    |[普惠版](/cn.zh-CN/产品简介/产品系列.md)（突发性能单节点）|polar.mysql.s2.large|4核8 GB|0.01|
    |[标准版](/cn.zh-CN/产品简介/产品系列.md)（2~16个节点）|polar.mysql.x4.medium|2核8 GB|0.01|
    |polar.mysql.x4.large|4核16 GB|0.04|
    |polar.mysql.x4.xlarge|8核32 GB|0.08|
    |polar.mysql.x8.xlarge|8核64 GB|0.12|
    |polar.mysql.x8.2xlarge|16核128 GB|0.24|
    |polar.mysql.x8.4xlarge|32核256 GB|0.48|
    |polar.mysql.x8.12xlarge|88核710 GB|1.32|

-   单位

    PolarDB采用单位CU\*H（简称：度）来定义一个计算包在每小时内能够提供的计算量。

-   单价

    当前每CU\*H（度）计算量的单价为38元。

-   使用方式

    计算包的使用方式与电费充值卡的使用方式类似。假设有一台功率为100W的电冰箱，每小时的耗电量为100 W x 1 H = 0.1 kW\*h（度），当前电费单价为0.5元/度，则一张已充值100元（即包含200度电）的电卡可供该冰箱连续工作1000小时。类似地，一个规格为2核8 GB的节点算力为0.01 CU，每小时需要的计算消耗量为0.01 CU x 1H = 0.01 CU\*H，则一个380元（即包含10 度计算量）的国内地域通用计算包可供该节点连续工作1000小时。

    ![计算包](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/8030610061/p165336.png)


## 抵扣方式

-   抵扣系数

    不同地域的计算节点成本有所差别，中国香港及海外地域的计算节点成本稍高于中国国内地域。因此在使用计算包抵扣计算节点费用时，需按照以下系数进行抵扣。

    -   中国国内地域的计算包抵扣系数为1。

        例如一个2核8 GB的节点每小时的计算消耗量为0.01 CU\*H，则在计算包中因其而抵扣的费用为1 x 0.01 CU\*H x 38 元/CU\*H =0.38元。

    -   中国香港及海外地域的抵扣系数为1.6。

        例如一个2核8 GB的节点每小时的计算消耗量为0.01 CU\*H，则在计算包中因其而抵扣的费用为1.6 x 0.01 CU\*H x 38 元/CU\*H =0.608元。

-   抵扣规则
    -   当前仅**商品类型**为**按量付费**（即后付费或按小时付费的）PolarDB MySQL集群支持使用计算包进行抵扣。
    -   购买后立即生效，若您的账号下没有任何按量付费的PolarDB MySQL集群则不会消耗任何计算包容量。
    -   若计算包内剩余的计算量不足以抵扣，超出部分则正常以[计算节点价格](/cn.zh-CN/产品定价/规格与定价.md)按量付费，或者您可以选择再次购买计算包叠加使用。
    -   若您购买了多个计算包，则会按照计算包订单时间的先后顺序依次抵扣。
    -   一个计算包可以被当前账号下所有按量付费的PolarDB MySQL集群同时抵扣。

## 购买计算包

1.  [注册并登录阿里云账号](/cn.zh-CN/用户指南/账号和数据库/注册和登录阿里云账号.md)。

2.  打开[购买页面](https://common-buy.aliyun.com/?spm=5176.polardb.0.0.12744135pI2YCf&commodityCode=polardb_cu_public_cn#/buy)，设置以下参数。

    |参数|说明|
    |--|--|
    |**可用于数据库类型**|固定为**PolarDB MySQL**，无需选择。|
    |**计算包规格**|您可以根据业务需求选择**小**、**中**或**大**规格。|
    |**计算包容量**|    -   若您选择**计算包规格**为**小**，则可选的容量范围为50 CU\*H~800 CU \*H。
    -   若您选择**计算包规格**为**中**，则可选的容量范围为801 CU\*H~5000 CU \*H。
    -   若您选择**计算包规格**为**大**，则可选的容量范围为5001 CU\*H~20000 CU \*H。 |
    |**有效期**|    -   若您选择**计算包规格**为**小**，则**有效期**固定为**1年**，无需选择。
    -   若您选择**计算包规格**为**中**，则**有效期**固定为**3年**，无需选择。
    -   若您选择**计算包规格**为**大**，则**有效期**固定为**5年**，无需选择。
**说明：** 购买后立即生效，有效期结束之前未消耗完的计算包容量会自动失效，请在有效期内用完避免浪费。 |
    |**购买数量**|设置计算包购买数量，一次性最多支持购买50个。|

3.  单击**立即购买**。

4.  勾选服务协议，单击**去支付**完成支付。


## 查看计算包抵扣量

1.  登录[费用中心](https://expense.console.aliyun.com/?#/account/home)。

2.  在左侧导航栏中，单击**资源管理** \> **资源实例管理**。

3.  在**资源实例管理**页面，选择**资源维度**为**PolarDB 计算包**。

    查看计算包总览

    1.  在**实例汇总**页签，您可以查看已购的所有计算包详情，如规格、生效时间和失效时间等信息。

        ![查看汇总](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/2106510061/p165728.png)

    查看计算包抵扣详情

    1.  单击**使用明细**页签，查看计算包的抵扣详情。

        ![明细](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/2106510061/p165801.png)

        **说明：**

        -   计算包订购成功后立即生效，但具体的抵扣信息一般会延迟6小时展示。
        -   对于已通过计算包进行抵扣的节点，您仍然可以在[账单明细](/cn.zh-CN/产品定价/查看费用账单.md)中查看该节点产生的**后付费**账单记录，但该账单的**应付金额**为0（即已通过计算包进行了抵扣）。

## 计算包与存储包对比

|对比项|计算包|存储包|
|---|---|---|
|抵扣对象|计算节点的费用。**说明：** PolarDB计算节点的价格请参见[计算节点价格](/cn.zh-CN/产品定价/规格与定价.md)。

|存储空间的费用。**说明：** PolarDB存储空间的价格请参见[存储空间价格](/cn.zh-CN/产品定价/规格与定价.md)。 |
|可购买数量|无限制。|一个账号只允许购买一种类型（即**中国内地通用**或**中国香港及海外通用**）的存储包，详情请参见[使用存储包](/cn.zh-CN/用户指南/购买集群或存储包/使用存储包.md)。|
|是否支持续费|支持购买多个计算包叠加使用。|支持，详情请参见[续费或升级存储包](/cn.zh-CN/用户指南/购买集群或存储包/使用存储包.mdsection_pfu_whq_bq0)。|
|是否支持规格升降级|支持购买多个计算包叠加使用。|仅支持升级，不支持降级，详情请参见[续费或升级存储包](/cn.zh-CN/用户指南/购买集群或存储包/使用存储包.mdsection_pfu_whq_bq0)。|
|是否限制有效期|是，超出有效期的部分将自动失效。|否，无有效期限制。|
|是否支持被多个集群同时抵扣|支持。**说明：** 目前仅支持PolarDB MySQL集群使用计算包。

|支持。|
|可抵扣集群的商品类型|仅支持抵扣商品类型为**按量付费**（后付费或按小时付费）的集群。**说明：** **包年包月**（即预付费）集群已预先支付过计算规格的费用因此无需使用计算包重复抵扣。

|全部集群。|
|资源包总量是否变化|总量随着集群抵扣使用而递减。|总量恒定。|

## 最佳实践

若您的业务量波动较大且频繁，推荐您将PolarDB MySQL集群计算包配合DAS提供的自治中心功能一起使用实现集群自动扩、缩容。您可以在购买计算包后，为**按量付费**的PolarDB MySQL集群[自动扩、缩容](/cn.zh-CN/用户指南/诊断与优化/一键诊断/自治中心.md)等自治服务。当集群配置发生调整时，计算包能根据当前规格自动进行抵扣。

**说明：** 若您使用的PolarDB MySQL集群购买方式为**包年包月**，则需要将其转为**按量付费**后才能使用计算包进行抵扣，详情请参见[包年包月转按量付费](/cn.zh-CN/用户指南/购买集群或存储包/包年包月转按量付费.md)。

## 常见问题

-   Q：在购买计算包购买前就已创建的PolarDB集群也支持使用计算包抵扣么？

    A：支持，商品类型为**按量付费**（后付费或按小时付费）的集群都支持。

    **说明：** 目前仅支持PolarDB MySQL集群使用。

-   Q：能否指定某个或某些集群使用计算包进行抵扣？

    A：计算包购买后，立即对账号下所有**按量付费**的集群自动生效，暂不支持指定集群使用计算包进行抵扣。

-   Q：**包年包月**集群如何使用计算包进行抵扣？

    A：您需要包年包月的PolarDB MySQL集群转为**按量付费**的购买方式后才能使用计算包进行抵扣，详情请参见[包年包月转按量付费](/cn.zh-CN/用户指南/购买集群或存储包/包年包月转按量付费.md)。

-   Q：小规格的计算包的有效期只能设置为1年么？可以自定义有效期么？

    A：不支持自定义有效期，但您可以购买多个同等规格的计算包叠加使用以达到相同的效果。


