# ST\_Hillshade {#reference_978548 .reference}

计算山影，返回山影数组。

## 语法 {#section_urp_rv9_ii4 .section}

``` {#codeblock_4a9_b2z_l6y}
float8[] ST_Hillshade(raster rast, integer pyramid_level, integer band, Box extent, BoxType type, float8 zfactor, float8 azimuth, float8 altitude);
```

## 参数 {#section_k17_7cm_sd5 .section}

|参数名称|描述|
|----|--|
|rast|raster对象。|
|pyramid\_level|计算的金字塔等级。|
|band|波段索引号。|
|extent|分析区域，格式为'\(\(m inX,m inY\), \(m axX,m axY\)\)'。|
|type|分析区域的坐标类型，只能是以下一种： -   Raster（影像坐标）
-   World（世界坐标）

 |
|zfactor|高程夸张值，默认为1。|
|azimuth|太阳方位⻆，默认为315（西北）顺时针，范围为0-360。|
|altitude|太阳高度⻆，太阳在正方为90，范围为0-90。|

## 描述 {#section_719_9ki_iqf .section}

[山体阴影](http://desktop.arcgis.com/zh-cn/arcmap/10.3/tools/spatial-analyst-toolbox/hillshade.htm)函数通过为栅格中的每个像元确定照明度，来获取表面的假定照明度。通过设置假定光源的位置和计算与相邻像元相关的每个像元的照明度值，即可得出假定照明度。进行分析或图形显示时，特别是使用透明度时，“山体阴影”工具可大大增强表面的可视化。

默认情况下，阴影和光线是与介于0和255之间的整数相关的灰度梯度（从黑色渐变为白色）。

## 示例 {#section_nhp_jve_f7k .section}

``` {#codeblock_g1d_tsz_e50}
select st_hillshade(rast, 0, 0, '(0,0), (5,5)', 'Raster', 4, 180, 80) from t_surface where id=1;
                                                      st_hillshade                                                      
------------------------------------------------------------------------------------------------------------------------
 {241.058488938393,213.471315764272,248.503699937536,219.598763873892,186.13564444109,240.161828059936,230.539211856565.
.,181.175441801687,200.382310292847,219.449103772262,254.328476494409,254.486010192554,216.118274956217,165.59445864749.
.,156.73816546518,215.145437887027,241.33319958436,247.721999074798,213.697052503065,162.469277526395,107.176240164182,.
.160.555287495495,251.337972845835,254.741770272405,193.116915680406,148.402860944697,101.093528491212,133.798418058854.
.,254.285971266744,253.163140286752,158.495693029955,109.654658826363,95.2639231161562,131.371235276504,252.85982399282.
.2,254.364747782334}
(1 row)
```

