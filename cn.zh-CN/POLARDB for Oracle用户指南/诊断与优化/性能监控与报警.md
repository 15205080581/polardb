# 性能监控与报警 {#concept_gwv_lqq_tdb .concept}

为方便您掌握实例的运行状态，POLARDB控制台提供了丰富的性能监控项。

## 性能监控 {#section_fr1_qqq_tdb .section}

1.  进入[POLARDB控制台](https://polardb.console.aliyun.com/)。
2.  选择地域。
3.  找到目标集群，单击集群名称列的**集群ID**。
4.  在左侧导航栏中选择**诊断与优化** \> **性能监控**。
5.  根据您的需求，可以查看**集群**或**节点**的监控信息。详细说明请参见[监控项说明](#)。
    -   集群性能监控：单击**集群**，在右侧设置时间段后单击**确定**。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/217487/156499818346921_zh-CN.png)

    -   节点性能监控：单击**节点**，在右侧选择节点并设置时间段后单击**确定**。

        **说明：** 节点页面下方单击**显示更多**，会显示更多监控项。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/217487/156499818346922_zh-CN.png)


## 监控项说明 {#section_ryu_3qy_vem .section}

|类别|监控项|说明|
|--|---|--|
|集群|存储空间|展示数据空间、日志空间、临时空间和WAL日志空间的使用量。|
|CPU|展示各节点的CPU使用率。|
|内存|展示各节点的内存使用率。|
|节点|TPS|展示所选择节点的每秒事务数，包括每秒提交事务数、每秒死锁事务数、每秒回滚事务数等等。|
|CPU|展示所选择节点的CPU使用率。|
|内存|展示所选择节点的内存使用率。|
|连接|展示所选择节点的当前总连接数、活跃连接数和空闲连接数。|
|扫描行数|展示所选择节点每秒插入、读取、更新、删除、返回的行数。|
|数据库最大年龄|数据库最旧和最新的两个事务之间的事务ID差值。|
|I/O吞吐量|展示所选择节点的总I/O吞吐量、读I/O吞吐量、写I/O吞吐量。|
|IOPS|展示所选择节点的每秒读写次数，包括每秒读写总次数、每秒读次数、每秒写次数。|
|缓存|展示所选择节点每秒缓存读取次数和每秒磁盘读取次数。|
|缓存命中率|展示所选择节点的缓存命中率。|
|临时文件|展示所选择节点的临时文件数量和总大小。|

## 设置报警 {#section_ugr_15h_1gb .section}

1.  进入[云监控控制台](https://cloudmonitor.console.aliyun.com)。
2.  在左侧导航栏中选择**报警服务** \> **报警规则**。
3.  在**报警规则列表**页面，单击**创建报警规则**。

    |参数|说明|
    |--|--|
    |产品|云数据库POLARDB|
    |资源范围|暂时仅支持选择**实例**，后续将支持**应用分组**。|
    |地域|实例所在的地域。|
    |实例|实例的ID。|
    |规则名称|方便您识别该规则的名称。|
    |规则描述|     -   监控项：POLARDB提供的监控指标。
    -   统计周期：报警系统会按照这个周期检查您对应的监控数据是否超过了报警阈值。例如，设置内存使用率报警规则的统计周期为 1 分钟，则每间隔1分钟会检查一次内存使用率是否超过了阈值。
    -   统计方法：统计方法指对超出阈值范围的设置。
        -   平均值：统计周期内监控数据的平均值。例如，如果统计周期内采集的所有监控数据的平均值大于 80% 时，即为超过阈值。
        -   最大值：统计周期内监控数据的最大值。例如，如果统计周期内采集的监控数据中的最大值超过 80%，即为超过阈值。
        -   最小值：统计周期内监控数据的最小值。例如，如果统计周期内采集的监控数据中的最小值超过 80%，即为超过阈值。
        -   求和值：统计周期内监控数据的总和。例如，如果统计周期内采集的监控数据求和后的结果超过 80% ，即为超过阈值。流量类指标需要用到此类统计方法。
 |
    |通道沉默时间|指报警发生后如果未恢复正常，间隔多久重复发送一次报警通知。|
    |连续几次超过阈值后报警|指连续几个统计周期监控项的值持续超过阈值后触发报警。 例如：设置 CPU 使用率超过 80% 报警，统计周期为 5 分钟，连续 3 次超过阈值后报警，则第一次探测 CPU 使用率超过 80% 时，不会发出报警通知。5 分钟后第二次探测 CPU 使用率超过 80%，也不会发出报警。第三次探测仍然超过 80% 时，才会发出报警通知。即从实际数据第一次超过阈值到最终发出报警规则，最少需要消耗的时间为统计周期×\(连续探测次数-1\)=5×\(3-1\)=10分钟。

 |
    |生效时间|指报警规则的生效时间，只会在生效时间内检查监控数据是否需要报警。|
    |通知对象|报警通知发送的联系人组。|
    |报警级别|分为三种级别：     -   电话语音+手机短信+邮件+钉钉机器人
    -   手机短信+邮件+钉钉机器人
    -   邮件+钉钉机器人
 |

4.  自定义邮件主题、邮件备注等，单击**确认**。

